<!doctype html>
<html>
<head>
    <title>Chapter 2 - Bundling and distributing JavaScript code using Webpack</title>
    <link rel='stylesheet' href="../prism.css">
    <link rel='stylesheet' href="../style.css">
</head>
<body class="line-numbers">
    <article>
        <h1>Chapter 2 - Bundling and distributing JavaScript code using Webpack</h1>
        <p>
			In a web browser context, all JavaScript code that needs to be executed by the end user must ultimately be served through a
            <strong class='code-inline'>&lt;script&gt;</strong> tag. While making our game, eventually we will have to split our code into multiple files,
            and it's not viable to use <strong class='code-inline'>&lt;script&gt;</strong> tags for each of them. This makes it necessary to have a build
            (or bundling) step, where all of our small JavaScript files are merged into a single file, which is then served to our players.
		</p>
        <p>
            The tool we'll be using is called Webpack, and it can be easily installed using <strong class='code-inline'>npm</strong>. Type the following command
            in the terminal to install Webpack:
        </p>
        <pre><code class="language-shell">npm install -D webpack webpack-cli</code></pre>
        <p>
            Note the difference in the command syntax from the previous section when we installed <strong class='code-inline'>http-server</strong>. The first
            difference is the <strong class='code-inline'>-D</strong> parameter, which means that Webpack is a development dependency and won't be included
            in the code that the user sees. In addition, we are installing two packages at once, both <strong class='code-inline'>webpack</strong> and <strong class='code-inline'>webpack-cli</strong>.
            Webpack is the tool that will do the actual bundling operation, while Webpack CLI allows us to initiate the bundling
            process using commands typed in the terminal.
        </p>
        <p>
            Before we're ready to use Webpack, we'll also need to create a small configuration file. Create a file with the <strong class='code-inline'>webpack.config.json</strong>
            name in your project's root directory and place the following content in it:
        </p>
        <pre><code class="language-js">const path = require('path');

module.exports = {
    entry: path.resolve(__dirname, 'src', 'index.js'),
    mode: 'development',
    output: {
    path: path.resolve(__dirname),
    filename: './bundle.js',
    },
};</code></pre>
        <p>
            What this config file does is instruct Webpack to take the <strong class='code-inline'>src/index.js</strong> file an whatever is imported in it,
            bundle it into one single file, and put the output file called <strong class='code-inline'>bundle.js</strong> in the root directory of our project.
        </p>
        <p>
            At the moment we don't have a <strong class='code-inline'>src</strong> directory, so let's go ahead and create it. In the <strong class='code-inline'>src</strong> directory
            let's also create a file called <strong class='code-inline'>index.js</strong> and put the following code in it:
        </p>
        <pre><code class='language-js'>const greeting = "Hello Webpack!";
alert(greeting);</code></pre>
        <p>
            We're finally ready to try everything out! Try out the following command:
        </p>
        <pre><code class="language-shell">npx webpack</code></pre>
        <p>
            If the command ran successfully, we should be able to navigate to <a href="http://localhost:8080">http://localhost:8080</a> on
            the browser. If we get something similar to the screenshot below, then the whole process was a success:
        </p>
        <img class="fit-width" src="img/webpack_success.png" alt="This screenshot from Google Chrome shows the code bundled by Webpack has been successfully added to our page">
        <p>
            In the next chapter, we'll get glimpses of our game by displaying shapes on the screen while also learning about the fundamentals
            of computer graphics.
        </p>
        <p><a href="../c3/">Chapter 3 - Introduction to computer graphics using Pixi.js</a></p>
    </article>
    <script src="../prism.js"></script>
</body>
</html>